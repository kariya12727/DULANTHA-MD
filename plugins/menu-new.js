const config = require('../config');
const { cmd, commands } = require('../command');
const { runtime } = require('../lib/functions');
const axios = require('axios');

cmd({
    pattern: "menu",
    desc: "Show interactive menu system",
    category: "menu",
    react: "üßæ",
    filename: __filename
}, async (conn, mek, m, { from, reply }) => {
    try {
        const menuCaption = `üëã Hello ${pushname}*
    
  ùóóùó®ùóüùóîùó°ùóßùóõùóî ùó†ùóóüí¢
‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ùë
‚îÉ üëë Owner : *${config.OWNER_NAME}*
‚îÉ ü§ñ Baileys : *Multi Device*
‚îÉ üíª Type : *NodeJs*
‚îÉ üöÄ Platform : *Heroku*
‚îÉ ‚öôÔ∏è Mode : *[${config.MODE}]*
‚îÉ üî£ Prefix : *[${config.PREFIX}]*
‚îÉ üè∑Ô∏è Version : *1.0.0 B·¥á·¥õ·¥Ä*
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ùë


‚úÜ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úÜ
*‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 1. DOWNLOAD*üì•
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 2. GROUP üåù*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 3. FUN üòÇ*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 4. OWNER üòé*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 5. AI ü§ñ*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 6. ANIME*üëæ
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 7. CONVERT üí¢*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 8. OTHER*üí®
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 9. REACTION üíó*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 10. MAIN ‚úàÔ∏è*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 11. LOGO üí†*
*‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫ 12.MOVIE üé¨*
*‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ„ãõ*

 ‚úÜREPLY THE NUMBER üî¢

> ¬© ·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö*`;

        const contextInfo = {
            mentionedJid: [m.sender],
            forwardingScore: 999,
            isForwarded: true,
            forwardedNewsletterMessageInfo: {
                newsletterJid: '120363417726891412@newsletter',
                newsletterName: ƒê…Ñ‚±†‚Ç≥‚Ç¶‚ÇÆ‚±ß‚Ç≥ ‚Ç•ƒê üòó,
                serverMessageId: 143
            }
        };

        // Function to send menu image with timeout
        const sendMenuImage = async () => {
            try {
                return await conn.sendMessage(
                    from,
                    {
                        image: { url: config.MENU_IMAGE_URL || 'https://i.ibb.co/KpTm0WRH/3244.jpg' },
                        caption: menuCaption,
                        contextInfo: contextInfo
                    },
                    { quoted: mek }
                );
            } catch (e) {
                console.log('Image send failed, falling back to text');
                return await conn.sendMessage(
                    from,
                    { text: menuCaption, contextInfo: contextInfo },
                    { quoted: mek }
                );
            }
        };

        // Function to send menu audio with timeout
        const sendMenuAudio = async () => {
            try {
                await new Promise(resolve => setTimeout(resolve, 1000)); // Small delay after image
                await conn.sendMessage(from, {
                    audio: { url: 'https://i.imgur.com/AVKX7Ye.mp4' },
                    mimetype: 'audio/mp4',
                    ptt: true,
                }, { quoted: mek });
            } catch (e) {
                console.log('Audio send failed, continuing without it');
            }
        };

        // Send image first, then audio sequentially
        let sentMsg;
        try {
            // Send image with 10s timeout
            sentMsg = await Promise.race([
                sendMenuImage(),
                new Promise((_, reject) => setTimeout(() => reject(new Error('Image send timeout')), 10000))
            ]);
            
            // Then send audio with 1s delay and 8s timeout
            await Promise.race([
                sendMenuAudio(),
                new Promise((_, reject) => setTimeout(() => reject(new Error('Audio send timeout')), 8000))
            ]);
        } catch (e) {
            console.log('Menu send error:', e);
            if (!sentMsg) {
                sentMsg = await conn.sendMessage(
                    from,
                    { text: menuCaption, contextInfo: contextInfo },
                    { quoted: mek }
                );
            }
        }
        
        const messageID = sentMsg.key.id;

        // Menu data (complete version)
        const menuData = {
            '1': {
                title: "üì• *Download menu",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÇDOWNLOAD MENUüì•‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùôµùô∞ùô≤ùô¥ùô±ùôæùôæùô∫ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùôºùô¥ùô≥ùô∏ùô∞ùôµùô∏ùöÅùô¥ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöÉùô∏ùô∫ùöÉùôæùô∫ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöÉùöÜùô∏ùöÉùöÉùô¥ùöÅ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùô∏ùôΩùöÇùöÉùô∞ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùô∞ùôøùô∫ [ùöäùöôùöô ùöóùöäùöñùöé]
‚îÇ‚ñπ ‚ô® ùôøùô∏ùôΩùöÉùô¥ùöÅùô¥ùöÇùöÉ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùôµùô±2 [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùô∞ùôøùô∫2 [ùöäùöôùöô ùöóùöäùöñùöé]
‚îÇ‚ñπ ‚ô® ùôøùô∏ùôΩùöÇ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöÉùöÉ2 [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùô∏ùôºùô∂ [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùöÇùôøùôæùöÉùô∏ùôµùöà [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùôøùôªùô∞ùöà [ùöúùöòùöóùöê]
‚îÇ‚ñπ ‚ô® ùôøùôªùô∞ùöà2-10 [ùöúùöòùöóùöê]
‚îÇ‚ñπ ‚ô® ùô∞ùöÑùô≥ùô∏ùôæ [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöÇùôæùôΩùô∂ [ùöóùöäùöñùöé]
‚îÇ‚ñπ ‚ô® ùöàùöÉùôºùôø4 [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöàùöÉùôºùôø3 [ùöûùöõùöï]
‚îÇ‚ñπ ‚ô® ùöáùöÖ
‚îÇ‚ñπ ‚ô® ùöáùöÖùô≥ùôª
‚îÇ‚ñπ ‚ô® ùôøùôæùöÅùôΩùô∑ùöÑùô±
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '2': {
                title: "üë• *Group Menu* üë•",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇGROUP MENU üë•‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùô∂ùöÅùôæùöÑùôøùôªùô∏ùôΩùô∫
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùô≤ùô∫ùô∞ùôªùôª
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùô≤ùô∫ùô∞ùôªùôª2
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùô≤ùô∫ùô∞ùôªùôª3
‚îÇ‚ñπ ‚ô® ùô∞ùô≥ùô≥ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùôºùôæùöÖùô¥ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùô≤ùô∫
‚îÇ‚ñπ ‚ô® ùô∏ùôΩùöÖùô∏ùöÉùô¥
‚îÇ‚ñπ ‚ô® ùöÉùô∞ùô∂ùô∞ùô≥ùôºùô∏ùôΩùöÇ
‚îÇ‚ñπ ‚ô® ùöÉùô∞ùô∂ùô∞ùôªùôª
‚îÇ‚ñπ ‚ô® ùô∑ùô∏ùô≥ùô¥ùöÉùô∞ùô∂ [ùöñùöéùöúùöúùöéùöêùöé]
‚îÇ‚ñπ ‚ô® ùöÉùô∞ùô∂ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÑùôªùôΩùôªùôæùô≤ùô∫ùô∂ùô≤
‚îÇ‚ñπ ‚ô® ùôªùôæùô≤ùô∫ùô∂ùô≤
‚îÇ‚ñπ ‚ô® ùöÑùôΩùôºùöÑùöÉùô¥
‚îÇ‚ñπ ‚ô® ùôºùöÑùöÉùô¥ [ùöùùöíùöñùöé]
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùöÖùôæùô∫ùô¥
‚îÇ‚ñπ ‚ô® ùô≥ùô∏ùöÇùôºùô∏ùöÇùöÇ
‚îÇ‚ñπ ‚ô® ùô≥ùô¥ùôºùôæùöÉùô¥
‚îÇ‚ñπ ‚ô® ùôøùöÅùôæùôºùôæùöÉùô¥ [@ùöûùöúùöéùöõ]
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '3': {
                title: "üòÑ *Fun Menu* üòÑ",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇFUN MENU üòÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùöÇùô∑ùô∞ùôøùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùöÅùô∞ùöÉùô¥ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∏ùôΩùöÇùöÑùôªùöÉ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∑ùô∞ùô≤ùô∫ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÇùô∑ùô∏ùôø [@ùöûùöúùöéùöõ1 @ùöûùöúùöéùöõ2]
‚îÇ‚ñπ ‚ô® ùôπùôæùô∫ùô¥
‚îÇ‚ñπ ‚ô® ùô≤ùô∑ùô∞ùöÅùô∞ùô≤ùöÉùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùôøùô∏ùô≤ùô∫ùöÑùôø
‚îÇ‚ñπ ‚ô® ùô∑ùöÅùöÉ
‚îÇ‚ñπ ‚ô® ùô≤ùöÑùôΩùôµùöÑùöâùô¥ùô≥
‚îÇ‚ñπ ‚ô® ùôºùôæùôΩ
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùöÇùöÇ
‚îÇ‚ñπ ‚ô® ùöÇùô∑ùöà
‚îÇ‚ñπ ‚ô® ùô∞ùôΩùô∂ùöÅùöà
‚îÇ‚ñπ ‚ô® ùöÇùöàùô≥
‚îÇ‚ñπ ‚ô® ùô∑ùôøùöà
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '4': {
                title: "üëë *Owner Menu* üëë",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇOWNER MENU üòé‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô®  ùô±ùôªùôæùô≤ùô∫ 
‚îÇ‚ñπ ‚ô® ùöÑùôΩùô±ùôªùôæùô≤ùô∫
‚îÇ‚ñπ ‚ô® ùôµùöÑùôªùôªùôøùôø
‚îÇ‚ñπ ‚ô® ùöÇùô¥ùöÉùôøùôø
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùöÇùöÉùô∞ùöÅùöÉ
‚îÇ‚ñπ ‚ô® ùöÇùô∑ùöÑùöÉùô≥ùôæùöÜùôΩ
‚îÇ‚ñπ ‚ô® ùöÑùôøùô≥ùô∞ùöÉùô¥ùô≤ùôºùô≥
‚îÇ‚ñπ ‚ô® ùô∂ùôπùô∏ùô≥
‚îÇ‚ñπ ‚ô® ùôπùô∏ùô≥ 
‚îÇ‚ñπ ‚ô® ùôªùô∏ùöÇùöÉùô≤ùôºùô≥
‚îÇ‚ñπ ‚ô® ùô∞ùôªùôªùôºùô¥ùôΩùöÑ
‚îÇ‚ñπ ‚ô® ùöÖùöÖ
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùôøùôæ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '5': {
                title: "ü§ñ *AI Menu* ü§ñ",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇAI MENU ü§ñ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô®  ùô∞ùô∏ [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùô∂ùôøùöÉ3 [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùô∂ùôøùöÉ2 [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùô∂ùôøùöÉùôºùô∏ùôΩùô∏ [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùô∂ùôøùöÉ [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùôºùô¥ùöÉùô∞ [ùööùöûùöéùöõùö¢]
‚îÇ‚ñπ ‚ô® ùô∏ùôºùô∞ùô∂ùô¥ùô∏ùôΩùô¥ 
‚îÇ‚ñπ ‚ô® ùô∏ùôºùô∂ùô∏ùôΩùô¥2
‚îÇ‚ñπ ‚ô® ùô±ùôªùô∞ùô≤ùô∫ùô±ùôæùöá
‚îÇ‚ñπ ‚ô® ùôªùöÑùôºùô∞
‚îÇ‚ñπ ‚ô® ùô≥ùôπ
‚îÇ‚ñπ ‚ô® ùô≥ùöÑùôªùô¥ùöá
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '6': {
                title: "üéé *Anime Menu* üéé",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇANIME MENU  üéé‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùôµùô∞ùô≤ùô∫
‚îÇ‚ñπ ‚ô® ùô≥ùôæùô∂
‚îÇ‚ñπ ‚ô® ùôªùôæùôªùô∏
‚îÇ‚ñπ ‚ô® ùôºùô∞ùô∏ùô≥
‚îÇ‚ñπ ‚ô® ùôΩùô¥ùô∫ùôæ
‚îÇ‚ñπ ‚ô® ùôºùô¥ùô∂ùôΩùöÑùôºùô∏ùôΩ
‚îÇ‚ñπ ‚ô® ùöÜùô∞ùô∏ùôµùöÑ
‚îÇ‚ñπ ‚ô® ùô∂ùô∞ùöÅùôª
‚îÇ‚ñπ ‚ô® ùô∞ùöÜùôæùôæ
‚îÇ‚ñπ ‚ô® ùôΩùô∞ùöÅùöÑùöÉùôæ
‚îÇ‚ñπ ‚ô® ùôµùôæùöá ùô∂ùô∏ùöÅùôª
‚îÇ‚ñπ ‚ô® ùô∞ùôΩùô∏ùôºùô¥1-5
‚îÇ‚ñπ ‚ô® ùô∞ùôΩùô∏ùôºùô¥ùô∂ùô∏ùöÅùôª
‚îÇ‚ñπ ‚ô® ùô∞ùôΩùô∏ùôºùô¥ùô∂ùô∏ùöÅùôª1-5
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '7': {
                title: "üîÑ *Convert Menu* üîÑ",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇCONVERT MENU üîÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùöÇùöÉùô∏ùô≤ùô∫ùô¥ùöÅ [ùöíùöñùöê]
‚îÇ‚ñπ ‚ô® ùöÇùöÉùô∏ùô≤ùô∫ùô¥ùöÅ2 [ùöíùöñùöê]
‚îÇ‚ñπ ‚ô® ùô¥ùôºùôæùôπùô∏ùôºùô∏ùöá [ü•≤+üòé]
‚îÇ‚ñπ ‚ô® ùöÉùô∞ùô∫ùô¥ [ùöóùöäùöñùöé,ùöùùöéùö°ùöù]
‚îÇ‚ñπ ‚ô® ùöÉùôæùôºùôø3 [ùöüùöíùöçùöéùöò]
‚îÇ‚ñπ ‚ô® ùôµùô∞ùôΩùô≤ùöà
‚îÇ‚ñπ ‚ô® ùöÉùöÉùöÇ
‚îÇ‚ñπ ‚ô® ùöÉùöÅùöÉ
‚îÇ‚ñπ ‚ô® ùô±ùô∞ùöÇùô¥64
‚îÇ‚ñπ ‚ô® ùöÑùôΩùô±ùô∞ùöÇùô¥64
‚îÇ‚ñπ ‚ô® ùô±ùô∏ùôΩùô∞ùöÅùöà
‚îÇ‚ñπ ‚ô® ùô≥ùô±ùô∏ùôΩùô∞ùöÅùöà
‚îÇ‚ñπ ‚ô® ùöÉùô∏ùôΩùöàùöÑùöÅùôª
‚îÇ‚ñπ ‚ô® ùöÑùöÅùôªùô≥ùô¥ùô≤ùôæùô≥ùô¥
‚îÇ‚ñπ ‚ô® ùöÑùöÅùôªùô¥ùôΩùô≤ùôæùô≥ùô¥
‚îÇ‚ñπ ‚ô® ùöÑùöÅùôª
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùôøùô¥ùô∞ùöÉ
‚îÇ‚ñπ ‚ô® ùô∞ùöÇùô∫
‚îÇ‚ñπ ‚ô® ùô∞ùöÇùô∫
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùô∞ùô≥ùôºùôæùöÅùô¥
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '8': {
                title: "üìå *Other Menu* üìå",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇOTHER MENU üì°‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô®  ùöÉùô∏ùôºùô¥ùôΩùôæùöÜ 
‚îÇ‚ñπ ‚ô® ùô≥ùô∞ùöÉùô¥
‚îÇ‚ñπ ‚ô® ùô≤ùôæùöÑùôΩùöÉ
‚îÇ‚ñπ ‚ô® ùô≤ùô∞ùôªùô≤ùöÑùôªùô∞ùöÉùô¥
‚îÇ‚ñπ ‚ô® ùô≤ùôæùöÑùôΩùöÉùöá
‚îÇ‚ñπ ‚ô® ùôµùô∞ùô≤ùöÉ
‚îÇ‚ñπ ‚ô® ùöÅùôæùôªùôª
‚îÇ‚ñπ ‚ô® ùöÅùô≤ùôæùôªùôæùöÅ
‚îÇ‚ñπ ‚ô® ùô≤ùôæùô∏ùôΩùôµùôªùô∏ùôø
‚îÇ‚ñπ ‚ô® ùôµùôªùô∏ùôø
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ ùòöùòåùòàùòôùòäùòè üëá
‚îÇ‚ñπ ‚ô® ùô≥ùô¥ùôµùô∏ùôΩùô¥
‚îÇ‚ñπ ‚ô® ùöÜùô¥ùöÉùô∑ùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùöÇùôºùôæùöÖùô∏ùô¥
‚îÇ‚ñπ ‚ô® ùöàùöÉùöÇ
‚îÇ‚ñπ ‚ô® ùöàùöÉùöÖ
‚îÇ‚ñπ ‚ô® ùô∂ùôøùô∞ùöÇùöÇ
‚îÇ‚ñπ ‚ô® ùöÜùô∏ùô∫ùô∏ùôøùô∏ùô≥ùô∏ùô∞
‚îÇ‚ñπ ‚ô® ùöÇùô∞ùöÖùô¥
‚îÇ‚ñπ ‚ô® ùô∏ùôΩùöÇùöÑùôªùöÉ
‚îÇ‚ñπ ‚ô® ùöÇùöÅùô¥ùôøùôæ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '9': {
                title: "üíû *Reactions Menu* üíû",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇREACTION MENU üòó‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùô≤ùöÑùô≥ùô≥ùôªùô¥ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∑ùöÑùô∂ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùôøùô∞ùöÉ [@ùöû??ùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùöÇùöÇ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùôªùô∏ùô≤ùô∫ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô±ùöÑùôªùôªùöà [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô±ùôæùôΩùô∫ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöàùô¥ùô¥ùöÉ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÇùôªùô∞ùôø [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∫ùô∏ùôªùôª [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô±ùôªùöÑùöÇùô∑ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÇùôºùô∏ùôªùô¥ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùô∑ùô∞ùôøùôøùöà [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùöÜùô∏ùôΩùô∫ [@ùöûùöúùöéùöõ]
‚îÇ‚ñπ ‚ô® ùôøùôæùô∫ùô¥ [@ùöûùöúùöéùöõ]
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
            '10': {
                title: "üè† *Main Menu* üè†",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇMAIN MENU üè†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô®  ùôøùô∏ùôΩùô∂
‚îÇ‚ñπ ‚ô® ùôªùô∏ùöÖùô¥
‚îÇ‚ñπ ‚ô® ùô∞ùôªùô∏ùöÖùô¥
‚îÇ‚ñπ ‚ô® ùöÅùöÑùôΩùöÉùô∏ùôºùô¥
‚îÇ‚ñπ ‚ô® ùöÑùôøùöÉùô∏ùôºùô¥
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùôøùôæ
‚îÇ‚ñπ ‚ô® ùôæùöÜùôΩùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùôºùô¥ùôΩùöÑ
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùöÇùöÉùô∞ùöÅùöÉ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
  '11': {
                title: "üí† *Logo menu* üí†",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇLOGO MENU üí†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùôΩùô¥ùôæùôΩùôªùô∏ùô∂ùô∑ùöÉ
‚îÇ‚ñπ ‚ô® ùô±ùôªùô∞ùô≤ùô∫ùôøùô∏ùôΩùô∫
‚îÇ‚ñπ ‚ô® ùô≥ùöÅùô∞ùô∂ùôæùôΩùô±ùô∞ùôªùôª
‚îÇ‚ñπ ‚ô® 3ùô≥ùô≤ùôæùôºùô∏ùô≤
‚îÇ‚ñπ ‚ô® ùô∞ùôºùô¥ùöÅùô∏ùô≤ùô∞
‚îÇ‚ñπ ‚ô® ùôΩùô∞ùöÅùöÑùöÉùôæ
‚îÇ‚ñπ ‚ô® ùöÇùô∞ùô≥ùô∂ùô∏ùöÅùôª
‚îÇ‚ñπ ‚ô® ùô≤ùôªùôæùöÑùô≥ùöÇ
‚îÇ‚ñπ ‚ô® ùôµùöÑùöÉùöÑùöÅùô∏ùöÇùöÉùô∏ùô≤
‚îÇ‚ñπ ‚ô® 3ùô≥ùôøùô∞ùôøùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùô¥ùöÅùô∞ùöÇùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùöÇùöÑùôΩùöÇùô¥ùöÉ
‚îÇ‚ñπ ‚ô® ùôªùô¥ùô∞ùôµ
‚îÇ‚ñπ ‚ô® ùô∂ùô∞ùôªùô∞ùöáùöà
‚îÇ‚ñπ ‚ô® ùöÇùô∞ùôΩùöÇ
‚îÇ‚ñπ ‚ô® ùô±ùôæùôæùôº
‚îÇ‚ñπ ‚ô® ùô∑ùô∞ùô≤ùô∫ùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùô≥ùô¥ùöÖùô∏ùôªùöÖùô∏ùôΩùô∂ùöÇ
‚îÇ‚ñπ ‚ô® ùôΩùô∏ùô∂ùô¥ùöÅùô∏ùô∞
‚îÇ‚ñπ ‚ô® ùô±ùöÑùôªùô±
‚îÇ‚ñπ ‚ô® ùô∞ùôΩùô∂ùôªùô¥ùöÜùô∏ùôΩùô∂ùöÇ
‚îÇ‚ñπ ‚ô® ùöâùôæùô≥ùô∏ùô∞ùô≤
‚îÇ‚ñπ ‚ô®ùôªùöÑùöáùöÑùöÅùöà
‚îÇ‚ñπ ‚ô® ùôøùô∞ùô∏ùôΩùöÉ 
‚îÇ‚ñπ ‚ô® ùôµùöÅùôæùöâùô¥ùôΩ 
‚îÇ‚ñπ ‚ô® ùô≤ùô∞ùöÇùöÉùôªùô¥
‚îÇ‚ñπ ‚ô® ùöÉùô∞ùöÉùöÉùôæ
‚îÇ‚ñπ ‚ô® ùöÖùô∞ùôªùôæùöÅùô∞ùôΩùöÉ
‚îÇ‚ñπ ‚ô® ùô±ùô¥ùô∞ùöÅ
‚îÇ‚ñπ ‚ô® ùöÉùöàùôæùô∂ùöÅùô∞ùôøùô∑ùöà
‚îÇ‚ñπ ‚ô® ùô±ùô∏ùöÅùöÉùô∑ùô≥ùô∞ùöà
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            },
'12': {
                title: "üé¨ *Movie Menu* üé¨",
                content: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇMOVIE MENU üé¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá
‚îÇ
‚îÇ‚ñπ ‚ô® ùô±ùô∞ùô∏ùöÇùô≤ùôæùôøùô¥
‚îÇ‚ñπ ‚ô® ùô≤ùô∏ùôΩùô¥ùöÇùöÑùô±ùöâ
‚îÇ‚ñπ ‚ô® ùôºùöÖ
‚îÇ‚ñπ ‚ô® ùöÇùô∏ùôΩùô∑ùô∞ùôªùô∞ùöÇùöÑùô±
‚îÇ‚ñπ ‚ô® ùöÑùôøùöÉùô∏ùôºùô¥
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùôøùôæ
‚îÇ‚ñπ ‚ô® ùôæùöÜùôΩùô¥ùöÅ
‚îÇ‚ñπ ‚ô® ùôºùô¥ùôΩùöÑ
‚îÇ‚ñπ ‚ô® ùöÅùô¥ùöÇùöÉùô∞ùöÅùöÉ
‚îÇ‚ñπ ‚ô® ùô±ùô∏ùöÇ
‚îÇ‚ñπ ‚ô® ùöÇùöÑùô±ùöÉùô∏ùôªùô¥ùöÇ
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚úá

> ¬©·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                image: true
            }
        };

        // Message handler with improved error handling
        const handler = async (msgData) => {
            try {
                const receivedMsg = msgData.messages[0];
                if (!receivedMsg?.message || !receivedMsg.key?.remoteJid) return;

                const isReplyToMenu = receivedMsg.message.extendedTextMessage?.contextInfo?.stanzaId === messageID;
                
                if (isReplyToMenu) {
                    const receivedText = receivedMsg.message.conversation || 
                                      receivedMsg.message.extendedTextMessage?.text;
                    const senderID = receivedMsg.key.remoteJid;

                    if (menuData[receivedText]) {
                        const selectedMenu = menuData[receivedText];
                        
                        try {
                            if (selectedMenu.image) {
                                await conn.sendMessage(
                                    senderID,
                                    {
                                        image: { url: config.MENU_IMAGE_URL || 'https://i.ibb.co/KpTm0WRH/3244.jpg' },
                                        caption: selectedMenu.content,
                                        contextInfo: contextInfo
                                    },
                                    { quoted: receivedMsg }
                                );
                            } else {
                                await conn.sendMessage(
                                    senderID,
                                    { text: selectedMenu.content, contextInfo: contextInfo },
                                    { quoted: receivedMsg }
                                );
                            }

                            await conn.sendMessage(senderID, {
                                react: { text: '‚úÖ', key: receivedMsg.key }
                            });

                        } catch (e) {
                            console.log('Menu reply error:', e);
                            await conn.sendMessage(
                                senderID,
                                { text: selectedMenu.content, contextInfo: contextInfo },
                                { quoted: receivedMsg }
                            );
                        }

                    } else {
                        await conn.sendMessage(
                            senderID,
                            {
                                text: `‚ùå *Invalid Option!* ‚ùå\n\nPlease reply with a number between 1-10 to select a menu.\n\n*Example:* Reply with "1" for Download Menu\n\n> ¬© ·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö`,
                                contextInfo: contextInfo
                            },
                            { quoted: receivedMsg }
                        );
                    }
                }
            } catch (e) {
                console.log('Handler error:', e);
            }
        };

        // Add listener
        conn.ev.on("messages.upsert", handler);

        // Remove listener after 5 minutes
        setTimeout(() => {
            conn.ev.off("messages.upsert", handler);
        }, 300000);

    } catch (e) {
        console.error('Menu Error:', e);
        try {
            await conn.sendMessage(
                from,
                { text: `‚ùå Menu system is currently busy. Please try again later.\n\n> ¬© ·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è ·¥Ö·¥ú ü·¥Ä…¥·¥õ ú·¥Ä ·¥ç·¥Ö` },
                { quoted: mek }
            );
        } catch (finalError) {
            console.log('Final error handling failed:', finalError);
        }
    }
});
